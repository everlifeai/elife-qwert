!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/js/",t(0)}([function(e,t,n){e.exports=n(4)},function(e,t,n){!function(e,n){n(t)}(this,function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,n){var r,o,a,i,s;for(s=arguments.length;s-- >2;)z.push(arguments[s]);for(n&&n.children&&(z.length||z.push(n.children),delete n.children);z.length;)if((a=z.pop())instanceof Array)for(s=a.length;s--;)z.push(a[s]);else null!=a&&a!==!0&&a!==!1&&("number"==typeof a&&(a=String(a)),i="string"==typeof a,i&&o?r[r.length-1]+=a:((r||(r=[])).push(a),o=i));var u=new t(e,n||void 0,r||I);return B.vnode&&B.vnode(u),u}function r(e,t){if(t)for(var n in t)e[n]=t[n];return e}function o(e){return r({},e)}function a(e,t){for(var n=t.split("."),r=0;r<n.length&&e;r++)e=e[n[r]];return e}function i(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function l(e,t){return n(e.nodeName,r(o(e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function c(e,t,n){var r=t.split(".");return function(t){for(var o=t&&t.target||this,i={},u=i,l=s(n)?a(t,n):o.nodeName?o.type.match(/^che|rad/)?o.checked:o.value:t,c=0;c<r.length-1;c++)u=u[r[c]]||(u[r[c]]=!c&&e.state[r[c]]||{});u[r[c]]=l,e.setState(i)}}function f(e){!e._dirty&&(e._dirty=!0)&&1==$.push(e)&&(B.debounceRendering||J)(d)}function d(){var e,t=$;for($=[];e=t.pop();)e._dirty&&H(e)}function p(e){var t=e&&e.nodeName;return t&&i(t)&&!(t.prototype&&t.prototype.render)}function m(e,t){return e.nodeName(y(e),t||G)}function v(e,t){return s(t)?e instanceof Text:s(t.nodeName)?!e._componentConstructor&&h(e,t.nodeName):i(t.nodeName)?!e._componentConstructor||e._componentConstructor===t.nodeName||p(t):void 0}function h(e,t){return e.normalizedNodeName===t||F(e.nodeName)===F(t)}function y(e){var t=o(e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,n,r,o){if("className"===t&&(t="class"),"class"===t&&r&&"object"==typeof r&&(r=u(r)),"key"===t);else if("class"!==t||o)if("style"===t){if((!r||s(r)||s(n))&&(e.style.cssText=r||""),r&&"object"==typeof r){if(!s(n))for(var a in n)a in r||(e.style[a]="");for(var a in r)e.style[a]="number"!=typeof r[a]||Z[a]?r[a]:r[a]+"px"}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var l=e._listeners||(e._listeners={});t=F(t.substring(2)),r?l[t]||e.addEventListener(t,M,!!X[t]):l[t]&&e.removeEventListener(t,M,!!X[t]),l[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)_(e,t,null==r?"":r),null!=r&&r!==!1||e.removeAttribute(t);else{var c=o&&t.match(/^xlink\:?(.+)/);null==r||r===!1?c?e.removeAttributeNS("http://www.w3.org/1999/xlink",F(c[1])):e.removeAttribute(t):"object"==typeof r||i(r)||(c?e.setAttributeNS("http://www.w3.org/1999/xlink",F(c[1]),r):e.setAttribute(t,r))}else e.className=r||""}function _(e,t,n){try{e[t]=n}catch(e){}}function M(e){return this._listeners[e.type](B.event&&B.event(e)||e)}function T(e){if(g(e),e instanceof Element){e._component=e._componentConstructor=null;var t=e.normalizedNodeName||F(e.nodeName);(V[t]||(V[t]=[])).push(e)}}function w(e,t){var n=F(e),r=V[n]&&V[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return r.normalizedNodeName=n,r}function x(){for(var e;e=q.pop();)B.afterMount&&B.afterMount(e),e.componentDidMount&&e.componentDidMount()}function S(e,t,n,r,o,a){Y++||(Q=o&&void 0!==o.ownerSVGElement,ee=e&&!(K in e));var i=C(e,t,n,r);return o&&i.parentNode!==o&&o.appendChild(i),--Y||(ee=!1,a||x()),i}function C(e,t,n,r){for(var o=t&&t.attributes&&t.attributes.ref;p(t);)t=m(t,n);if(null==t&&(t=""),s(t))return e&&e instanceof Text&&e.parentNode?e.nodeValue!=t&&(e.nodeValue=t):(e&&D(e),e=document.createTextNode(t)),e;if(i(t.nodeName))return P(e,t,n,r);var a=e,u=String(t.nodeName),l=Q,c=t.children;if(Q="svg"===u||"foreignObject"!==u&&Q,e){if(!h(e,u)){for(a=w(u,Q);e.firstChild;)a.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(a,e),D(e)}}else a=w(u,Q);var f=a.firstChild,d=a[K];if(!d){a[K]=d={};for(var v=a.attributes,y=v.length;y--;)d[v[y].name]=v[y].value}return!ee&&c&&1===c.length&&"string"==typeof c[0]&&f&&f instanceof Text&&!f.nextSibling?f.nodeValue!=c[0]&&(f.nodeValue=c[0]):(c&&c.length||f)&&N(a,c,n,r,!!d.dangerouslySetInnerHTML),O(a,t.attributes,d),o&&(d.ref=o)(a),Q=l,a}function N(e,t,n,r,o){var a,i,s,u,l=e.childNodes,c=[],f={},d=0,p=0,m=l.length,h=0,y=t&&t.length;if(m)for(var b=0;b<m;b++){var _=l[b],M=_[K],T=y?(i=_._component)?i.__key:M?M.key:null:null;null!=T?(d++,f[T]=_):(ee||o||M||_ instanceof Text)&&(c[h++]=_)}if(y)for(var b=0;b<y;b++){s=t[b],u=null;var T=s.key;if(null!=T)d&&T in f&&(u=f[T],f[T]=void 0,d--);else if(!u&&p<h)for(a=p;a<h;a++)if(i=c[a],i&&v(i,s)){u=i,c[a]=void 0,a===h-1&&h--,a===p&&p++;break}u=C(u,s,n,r),u&&u!==e&&(b>=m?e.appendChild(u):u!==l[b]&&(u===l[b+1]&&g(l[b]),e.insertBefore(u,l[b]||null)))}if(d)for(var b in f)f[b]&&D(f[b]);for(;p<=h;)u=c[h--],u&&D(u)}function D(e,t){var n=e._component;if(n)j(n,!t);else{e[K]&&e[K].ref&&e[K].ref(null),t||T(e);for(var r;r=e.lastChild;)D(r,t)}}function O(e,t,n){var r;for(r in n)t&&r in t||null==n[r]||b(e,r,n[r],n[r]=void 0,Q);if(t)for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||b(e,r,n[r],n[r]=t[r],Q)}function k(e){var t=e.constructor.name,n=te[t];n?n.push(e):te[t]=[e]}function A(e,t,n){var r=new e(t,n),o=te[e.name];if(U.call(r,t,n),o)for(var a=o.length;a--;)if(o[a].constructor===e){r.nextBase=o[a].nextBase,o.splice(a,1);break}return r}function E(e,t,n,r,o){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&B.syncComponentUpdates===!1&&e.base?f(e):H(e,1,o)),e.__ref&&e.__ref(e))}function H(e,t,n,a){if(!e._disable){var s,u,l,c,f=e.props,d=e.state,v=e.context,h=e.prevProps||f,g=e.prevState||d,b=e.prevContext||v,_=e.base,M=e.nextBase,T=_||M,w=e._component;if(_&&(e.props=h,e.state=g,e.context=b,2!==t&&e.shouldComponentUpdate&&e.shouldComponentUpdate(f,d,v)===!1?s=!0:e.componentWillUpdate&&e.componentWillUpdate(f,d,v),e.props=f,e.state=d,e.context=v),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!s){for(e.render&&(u=e.render(f,d,v)),e.getChildContext&&(v=r(o(v),e.getChildContext()));p(u);)u=m(u,v);var C,N,O=u&&u.nodeName;if(i(O)){var k=y(u);l=w,l&&l.constructor===O&&k.key==l.__key?E(l,k,1,v):(C=l,l=A(O,k,v),l.nextBase=l.nextBase||M,l._parentComponent=e,e._component=l,E(l,k,0,v),H(l,1,n,!0)),N=l.base}else c=T,C=w,C&&(c=e._component=null),(T||1===t)&&(c&&(c._component=null),N=S(c,u,v,n||!_,T&&T.parentNode,!0));if(T&&N!==T&&l!==w){var P=T.parentNode;P&&N!==P&&(P.replaceChild(N,T),C||(T._component=null,D(T)))}if(C&&j(C,N!==T),e.base=N,N&&!a){for(var U=e,R=e;R=R._parentComponent;)(U=R).base=N;N._component=U,N._componentConstructor=U.constructor}}!_||n?q.unshift(e):s||(e.componentDidUpdate&&e.componentDidUpdate(h,g,b),B.afterUpdate&&B.afterUpdate(e));var z,I=e._renderCallbacks;if(I)for(;z=I.pop();)z.call(e);Y||a||x()}}function P(e,t,n,r){for(var o=e&&e._component,a=o,i=e,s=o&&e._componentConstructor===t.nodeName,u=s,l=y(t);o&&!u&&(o=o._parentComponent);)u=o.constructor===t.nodeName;return o&&u&&(!r||o._component)?(E(o,l,3,n,r),e=o.base):(a&&!s&&(j(a,!0),e=i=null),o=A(t.nodeName,l,n),e&&!o.nextBase&&(o.nextBase=e,i=null),E(o,l,1,n,r),e=o.base,i&&e!==i&&(i._component=null,D(i))),e}function j(e,t){B.beforeUnmount&&B.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var r=e._component;if(r)j(r,t);else if(n){n[K]&&n[K].ref&&n[K].ref(null),e.nextBase=n,t&&(g(n),k(e));for(var o;o=n.lastChild;)D(o,!t)}e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function U(e,t){this._dirty=!0,this.context=t,this.props=e,this.state||(this.state={})}function R(e,t,n){return S(n,e,{},!1,t)}var B={},z=[],I=[],L={},F=function(e){return L[e]||(L[e]=e.toLowerCase())},W="undefined"!=typeof Promise&&Promise.resolve(),J=W?function(e){W.then(e)}:setTimeout,G={},K="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",Z={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},X={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},$=[],V={},q=[],Y=0,Q=!1,ee=!1,te={};r(U.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={});return n[e+t]||(n[e+t]=c(this,e,t))},setState:function(e,t){var n=this.state;this.prevState||(this.prevState=o(n)),r(n,i(e)?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),f(this)},forceUpdate:function(){H(this,2)},render:function(){}}),e.h=n,e.cloneElement=l,e.Component=U,e.render=R,e.rerender=d,e.options=B})},,function(e,t,n){var r,o,a;(function(n){"use strict";!function(n,i){o=[],r=i,a="function"==typeof r?r.apply(t,o):r,!(void 0!==a&&(e.exports=a))}(this,function(){function e(){try{return i in o&&o[i]}catch(e){return!1}}var t,r={},o="undefined"!=typeof window?window:n,a=o.document,i="localStorage",s="script";if(r.disabled=!1,r.version="1.3.20",r.set=function(e,t){},r.get=function(e,t){},r.has=function(e){return void 0!==r.get(e)},r.remove=function(e){},r.clear=function(){},r.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var o=r.get(e,t);n(o),r.set(e,o)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=o[i],r.set=function(e,n){return void 0===n?r.remove(e):(t.setItem(e,r.serialize(n)),n)},r.get=function(e,n){var o=r.deserialize(t.getItem(e));return void 0===o?n:o},r.remove=function(e){t.removeItem(e)},r.clear=function(){t.clear()},r.getAll=function(){var e={};return r.forEach(function(t,n){e[t]=n}),e},r.forEach=function(e){for(var n=0;n<t.length;n++){var o=t.key(n);e(o,r.get(o))}};else if(a&&a.documentElement.addBehavior){var u,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),l.close(),u=l.w.frames[0].document,t=u.createElement("div")}catch(e){t=a.createElement("div"),u=a.body}var c=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(t),u.appendChild(t),t.addBehavior("#default#userData"),t.load(i);var o=e.apply(r,n);return u.removeChild(t),o}},f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(e){return e.replace(/^d/,"___$&").replace(f,"___")};r.set=c(function(e,t,n){return t=d(t),void 0===n?r.remove(t):(e.setAttribute(t,r.serialize(n)),e.save(i),n)}),r.get=c(function(e,t,n){t=d(t);var o=r.deserialize(e.getAttribute(t));return void 0===o?n:o}),r.remove=c(function(e,t){t=d(t),e.removeAttribute(t),e.save(i)}),r.clear=c(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(i);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(i)}),r.getAll=function(e){var t={};return r.forEach(function(e,n){t[e]=n}),t},r.forEach=c(function(e,t){for(var n,o=e.XMLDocument.documentElement.attributes,a=0;n=o[a];++a)t(n.name,r.deserialize(e.getAttribute(n.name)))})}try{var p="__storejs__";r.set(p,p),r.get(p)!=p&&(r.disabled=!0),r.remove(p)}catch(e){r.disabled=!0}return r.enabled=!r.disabled,r})}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function i(){return d.enabled?d.get("userId")||d.set("userId",s()):s()}function s(){return Math.random().toString(36).substr(2,6)}var u=n(1),l=n(5),c=o(l),f=n(3),d=r(f),p={},m=a("conf");if(m)try{p=JSON.parse(m)}catch(e){console.log("Failed to parse conf",m,e)}(0,u.render)((0,u.h)(c.default,{chatId:a("id"),userId:i(),host:a("host"),conf:p}),document.getElementById("everlifeChat"))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),f=o(c),d=n(1),p=n(6),m=r(p),v=10,h=void 0,y=0,g=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.autoResponseState="pristine",n.autoResponseTimer=0,n.handleKeyPress=function(e){if(13==e.keyCode&&n.input.value){var t=n.input.value;n.sendMessageToBot(t),n.input.value="",n.writeToMessages({text:t,from:"visitor"}),n.gotMsg(),"pristine"===n.autoResponseState&&(n.autoResponseTimer=setTimeout(function(){n.autoResponseState="canceled"},6e4),n.autoResponseState="set")}},n.currentTimeOut=function(){return v<10&&(y++,y>30&&(v=10,y=0)),1e3*v},n.gotMsg=function(){v=1,n.pollAgain()},n.pollAgain=function(){h&&clearTimeout(h),h=setTimeout(function(){n.pollForMsgs()},n.currentTimeOut())},n.pollForMsgs=function(){n.getBotMsg(function(e,t){e?n.writeToMessages({from:"admin",text:e}):t&&n.writeToMessages(t),n.pollAgain()})},n.getBotMsg=function(e){var t=n.props.conf.everlifeAvatar+"bot",r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)if(200!==r.status)e(r);else if(r.response)try{var t=JSON.parse(r.response);e(null,{text:t.msg,from:"admin"})}catch(t){e()}else e()},r.open("GET",t),r.send()},n.sendMessageToBot=function(e){var t="",r=n.props.conf.everlifeAvatar+"msg",o=new XMLHttpRequest;o.open("POST",r),o.send(JSON.stringify({msg:e,addl:t}))},n.incomingMessage=function(e){n.writeToMessages(e),"admin"===e.from&&(document.getElementById("messageSound").play(),"pristine"===n.autoResponseState?n.autoResponseState="canceled":"set"===n.autoResponseState&&(n.autoResponseState="canceled",clearTimeout(n.autoResponseTimer)))},n.writeToMessages=function(e){if(e.time=new Date,n.setState({message:n.state.messages.push(e)}),f.enabled)try{f.transact(n.messagesKey,function(t){t.push(e)})}catch(e){console.log("failed to add new message to local storage",e),f.set(n.messagesKey,[])}},f.enabled?(n.messagesKey="messages."+e.chatId+"."+e.host,n.state.messages=f.get(n.messagesKey)||f.set(n.messagesKey,[])):n.state.messages=[],n.everlifeAvatar=e.everlifeAvatar,n.pollForMsgs(),n}return u(t,e),l(t,[{key:"componentDidMount",value:function(){this.pollForMsgs()}},{key:"render",value:function(e,t){var n=this;return a(e),(0,d.h)("div",null,(0,d.h)(m.default,{messages:t.messages,conf:this.props.conf}),(0,d.h)("input",{class:"textarea",type:"text",placeholder:this.props.conf.placeholderText,ref:function(e){n.input=e},onKeyPress:this.handleKeyPress}))}}]),t}(d.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),c=r(l),f=n(1),d=864e5,p=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.getHtml=function(e){return new String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/((?:^|\s))(\/[A-Z_a-z0-9]*)/g,"$1<a href=\"#\" onclick=\"let ui = document.getElementById('everlifeuserchatinput');if(ui.value) ui.value = '$2' + ui.value;else ui.value='$2';ui.focus();return false;\">$2</a>").replace(/[\r\n]/g,"<p class=br>&nbsp;</p>")},o=n,i(r,o)}return s(t,e),u(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,document.body.scrollHeight)}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,document.body.scrollHeight)}},{key:"render",value:function(e,t){var n=this;o(t);var r=new Date;return(0,f.h)("ol",{class:"chat"},e.messages.map(function(t){var o=t.name,a=t.text,i=t.from,s=t.time;return"visitor"===i&&(o="You"),(0,f.h)("li",{class:i},(0,f.h)("div",{class:"msg"},(0,f.h)("p",{dangerouslySetInnerHTML:{__html:n.getHtml(a)}}),e.conf.displayMessageTime?(0,f.h)("div",{class:"time"},r-new Date(s)<d?(0,c.default)(s,"HH:MM"):(0,c.default)(s,"m/d/yy HH:MM")):""))}))}}]),t}(f.Component);t.default=p},,,,,,,,function(e,t,n){var r;!function(o){"use strict";function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function i(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-n)/6048e5;return 1+Math.floor(o)}function s(e){var t=e.getDay();return 0===t&&(t=7),t}function u(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}var l=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,o,c,f){if(1!==arguments.length||"string"!==u(r)||/\d/.test(r)||(o=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");o=String(l.masks[o]||o||l.masks.default);var d=o.slice(0,4);"UTC:"!==d&&"GMT:"!==d||(o=o.slice(4),c=!0,"GMT:"===d&&(f=!0));var p=c?"getUTC":"get",m=r[p+"Date"](),v=r[p+"Day"](),h=r[p+"Month"](),y=r[p+"FullYear"](),g=r[p+"Hours"](),b=r[p+"Minutes"](),_=r[p+"Seconds"](),M=r[p+"Milliseconds"](),T=c?0:r.getTimezoneOffset(),w=i(r),x=s(r),S={d:m,dd:a(m),ddd:l.i18n.dayNames[v],dddd:l.i18n.dayNames[v+7],m:h+1,mm:a(h+1),mmm:l.i18n.monthNames[h],mmmm:l.i18n.monthNames[h+12],yy:String(y).slice(2),yyyy:y,h:g%12||12,hh:a(g%12||12),H:g,HH:a(g),M:b,MM:a(b),s:_,ss:a(_),l:a(M,3),L:a(Math.round(M/10)),t:g<12?"a":"p",tt:g<12?"am":"pm",T:g<12?"A":"P",TT:g<12?"AM":"PM",Z:f?"GMT":c?"UTC":(String(r).match(t)||[""]).pop().replace(n,""),o:(T>0?"-":"+")+a(100*Math.floor(Math.abs(T)/60)+Math.abs(T)%60,4),S:["th","st","nd","rd"][m%10>3?0:(m%100-m%10!=10)*m%10],W:w,N:x};return o.replace(e,function(e){return e in S?S[e]:e.slice(1,e.length-1)})}}();l.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},l.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},r=function(){return l}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}]);
//# sourceMappingURL=chat.js.map