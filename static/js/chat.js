!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/js/",t(0)}([function(e,t,n){e.exports=n(4)},function(e,t,n){!function(e,n){n(t)}(this,function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,n){var o,r,a,i,s;for(s=arguments.length;s-- >2;)z.push(arguments[s]);for(n&&n.children&&(z.length||z.push(n.children),delete n.children);z.length;)if((a=z.pop())instanceof Array)for(s=a.length;s--;)z.push(a[s]);else null!=a&&a!==!0&&a!==!1&&("number"==typeof a&&(a=String(a)),i="string"==typeof a,i&&r?o[o.length-1]+=a:((o||(o=[])).push(a),r=i));var u=new t(e,n||void 0,o||I);return B.vnode&&B.vnode(u),u}function o(e,t){if(t)for(var n in t)e[n]=t[n];return e}function r(e){return o({},e)}function a(e,t){for(var n=t.split("."),o=0;o<n.length&&e;o++)e=e[n[o]];return e}function i(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function l(e,t){return n(e.nodeName,o(r(e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function c(e,t,n){var o=t.split(".");return function(t){for(var r=t&&t.target||this,i={},u=i,l=s(n)?a(t,n):r.nodeName?r.type.match(/^che|rad/)?r.checked:r.value:t,c=0;c<o.length-1;c++)u=u[o[c]]||(u[o[c]]=!c&&e.state[o[c]]||{});u[o[c]]=l,e.setState(i)}}function f(e){!e._dirty&&(e._dirty=!0)&&1==$.push(e)&&(B.debounceRendering||J)(d)}function d(){var e,t=$;for($=[];e=t.pop();)e._dirty&&H(e)}function p(e){var t=e&&e.nodeName;return t&&i(t)&&!(t.prototype&&t.prototype.render)}function m(e,t){return e.nodeName(y(e),t||G)}function v(e,t){return s(t)?e instanceof Text:s(t.nodeName)?!e._componentConstructor&&h(e,t.nodeName):i(t.nodeName)?!e._componentConstructor||e._componentConstructor===t.nodeName||p(t):void 0}function h(e,t){return e.normalizedNodeName===t||F(e.nodeName)===F(t)}function y(e){var t=r(e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,n,o,r){if("className"===t&&(t="class"),"class"===t&&o&&"object"==typeof o&&(o=u(o)),"key"===t);else if("class"!==t||r)if("style"===t){if((!o||s(o)||s(n))&&(e.style.cssText=o||""),o&&"object"==typeof o){if(!s(n))for(var a in n)a in o||(e.style[a]="");for(var a in o)e.style[a]="number"!=typeof o[a]||Z[a]?o[a]:o[a]+"px"}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var l=e._listeners||(e._listeners={});t=F(t.substring(2)),o?l[t]||e.addEventListener(t,M,!!X[t]):l[t]&&e.removeEventListener(t,M,!!X[t]),l[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e)_(e,t,null==o?"":o),null!=o&&o!==!1||e.removeAttribute(t);else{var c=r&&t.match(/^xlink\:?(.+)/);null==o||o===!1?c?e.removeAttributeNS("http://www.w3.org/1999/xlink",F(c[1])):e.removeAttribute(t):"object"==typeof o||i(o)||(c?e.setAttributeNS("http://www.w3.org/1999/xlink",F(c[1]),o):e.setAttribute(t,o))}else e.className=o||""}function _(e,t,n){try{e[t]=n}catch(e){}}function M(e){return this._listeners[e.type](B.event&&B.event(e)||e)}function T(e){if(g(e),e instanceof Element){e._component=e._componentConstructor=null;var t=e.normalizedNodeName||F(e.nodeName);(V[t]||(V[t]=[])).push(e)}}function w(e,t){var n=F(e),o=V[n]&&V[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return o.normalizedNodeName=n,o}function x(){for(var e;e=q.pop();)B.afterMount&&B.afterMount(e),e.componentDidMount&&e.componentDidMount()}function S(e,t,n,o,r,a){Y++||(Q=r&&void 0!==r.ownerSVGElement,ee=e&&!(K in e));var i=N(e,t,n,o);return r&&i.parentNode!==r&&r.appendChild(i),--Y||(ee=!1,a||x()),i}function N(e,t,n,o){for(var r=t&&t.attributes&&t.attributes.ref;p(t);)t=m(t,n);if(null==t&&(t=""),s(t))return e&&e instanceof Text&&e.parentNode?e.nodeValue!=t&&(e.nodeValue=t):(e&&D(e),e=document.createTextNode(t)),e;if(i(t.nodeName))return P(e,t,n,o);var a=e,u=String(t.nodeName),l=Q,c=t.children;if(Q="svg"===u||"foreignObject"!==u&&Q,e){if(!h(e,u)){for(a=w(u,Q);e.firstChild;)a.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(a,e),D(e)}}else a=w(u,Q);var f=a.firstChild,d=a[K];if(!d){a[K]=d={};for(var v=a.attributes,y=v.length;y--;)d[v[y].name]=v[y].value}return!ee&&c&&1===c.length&&"string"==typeof c[0]&&f&&f instanceof Text&&!f.nextSibling?f.nodeValue!=c[0]&&(f.nodeValue=c[0]):(c&&c.length||f)&&C(a,c,n,o,!!d.dangerouslySetInnerHTML),O(a,t.attributes,d),r&&(d.ref=r)(a),Q=l,a}function C(e,t,n,o,r){var a,i,s,u,l=e.childNodes,c=[],f={},d=0,p=0,m=l.length,h=0,y=t&&t.length;if(m)for(var b=0;b<m;b++){var _=l[b],M=_[K],T=y?(i=_._component)?i.__key:M?M.key:null:null;null!=T?(d++,f[T]=_):(ee||r||M||_ instanceof Text)&&(c[h++]=_)}if(y)for(var b=0;b<y;b++){s=t[b],u=null;var T=s.key;if(null!=T)d&&T in f&&(u=f[T],f[T]=void 0,d--);else if(!u&&p<h)for(a=p;a<h;a++)if(i=c[a],i&&v(i,s)){u=i,c[a]=void 0,a===h-1&&h--,a===p&&p++;break}u=N(u,s,n,o),u&&u!==e&&(b>=m?e.appendChild(u):u!==l[b]&&(u===l[b+1]&&g(l[b]),e.insertBefore(u,l[b]||null)))}if(d)for(var b in f)f[b]&&D(f[b]);for(;p<=h;)u=c[h--],u&&D(u)}function D(e,t){var n=e._component;if(n)j(n,!t);else{e[K]&&e[K].ref&&e[K].ref(null),t||T(e);for(var o;o=e.lastChild;)D(o,t)}}function O(e,t,n){var o;for(o in n)t&&o in t||null==n[o]||b(e,o,n[o],n[o]=void 0,Q);if(t)for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||b(e,o,n[o],n[o]=t[o],Q)}function k(e){var t=e.constructor.name,n=te[t];n?n.push(e):te[t]=[e]}function A(e,t,n){var o=new e(t,n),r=te[e.name];if(U.call(o,t,n),r)for(var a=r.length;a--;)if(r[a].constructor===e){o.nextBase=r[a].nextBase,r.splice(a,1);break}return o}function E(e,t,n,o,r){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&B.syncComponentUpdates===!1&&e.base?f(e):H(e,1,r)),e.__ref&&e.__ref(e))}function H(e,t,n,a){if(!e._disable){var s,u,l,c,f=e.props,d=e.state,v=e.context,h=e.prevProps||f,g=e.prevState||d,b=e.prevContext||v,_=e.base,M=e.nextBase,T=_||M,w=e._component;if(_&&(e.props=h,e.state=g,e.context=b,2!==t&&e.shouldComponentUpdate&&e.shouldComponentUpdate(f,d,v)===!1?s=!0:e.componentWillUpdate&&e.componentWillUpdate(f,d,v),e.props=f,e.state=d,e.context=v),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!s){for(e.render&&(u=e.render(f,d,v)),e.getChildContext&&(v=o(r(v),e.getChildContext()));p(u);)u=m(u,v);var N,C,O=u&&u.nodeName;if(i(O)){var k=y(u);l=w,l&&l.constructor===O&&k.key==l.__key?E(l,k,1,v):(N=l,l=A(O,k,v),l.nextBase=l.nextBase||M,l._parentComponent=e,e._component=l,E(l,k,0,v),H(l,1,n,!0)),C=l.base}else c=T,N=w,N&&(c=e._component=null),(T||1===t)&&(c&&(c._component=null),C=S(c,u,v,n||!_,T&&T.parentNode,!0));if(T&&C!==T&&l!==w){var P=T.parentNode;P&&C!==P&&(P.replaceChild(C,T),N||(T._component=null,D(T)))}if(N&&j(N,C!==T),e.base=C,C&&!a){for(var U=e,R=e;R=R._parentComponent;)(U=R).base=C;C._component=U,C._componentConstructor=U.constructor}}!_||n?q.unshift(e):s||(e.componentDidUpdate&&e.componentDidUpdate(h,g,b),B.afterUpdate&&B.afterUpdate(e));var z,I=e._renderCallbacks;if(I)for(;z=I.pop();)z.call(e);Y||a||x()}}function P(e,t,n,o){for(var r=e&&e._component,a=r,i=e,s=r&&e._componentConstructor===t.nodeName,u=s,l=y(t);r&&!u&&(r=r._parentComponent);)u=r.constructor===t.nodeName;return r&&u&&(!o||r._component)?(E(r,l,3,n,o),e=r.base):(a&&!s&&(j(a,!0),e=i=null),r=A(t.nodeName,l,n),e&&!r.nextBase&&(r.nextBase=e,i=null),E(r,l,1,n,o),e=r.base,i&&e!==i&&(i._component=null,D(i))),e}function j(e,t){B.beforeUnmount&&B.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var o=e._component;if(o)j(o,t);else if(n){n[K]&&n[K].ref&&n[K].ref(null),e.nextBase=n,t&&(g(n),k(e));for(var r;r=n.lastChild;)D(r,!t)}e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function U(e,t){this._dirty=!0,this.context=t,this.props=e,this.state||(this.state={})}function R(e,t,n){return S(n,e,{},!1,t)}var B={},z=[],I=[],L={},F=function(e){return L[e]||(L[e]=e.toLowerCase())},W="undefined"!=typeof Promise&&Promise.resolve(),J=W?function(e){W.then(e)}:setTimeout,G={},K="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",Z={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},X={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},$=[],V={},q=[],Y=0,Q=!1,ee=!1,te={};o(U.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={});return n[e+t]||(n[e+t]=c(this,e,t))},setState:function(e,t){var n=this.state;this.prevState||(this.prevState=r(n)),o(n,i(e)?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),f(this)},forceUpdate:function(){H(this,2)},render:function(){}}),e.h=n,e.cloneElement=l,e.Component=U,e.render=R,e.rerender=d,e.options=B})},,function(e,t,n){var o,r,a;(function(n){"use strict";!function(n,i){r=[],o=i,a="function"==typeof o?o.apply(t,r):o,!(void 0!==a&&(e.exports=a))}(this,function(){function e(){try{return i in r&&r[i]}catch(e){return!1}}var t,o={},r="undefined"!=typeof window?window:n,a=r.document,i="localStorage",s="script";if(o.disabled=!1,o.version="1.3.20",o.set=function(e,t){},o.get=function(e,t){},o.has=function(e){return void 0!==o.get(e)},o.remove=function(e){},o.clear=function(){},o.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var r=o.get(e,t);n(r),o.set(e,r)},o.getAll=function(){},o.forEach=function(){},o.serialize=function(e){return JSON.stringify(e)},o.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=r[i],o.set=function(e,n){return void 0===n?o.remove(e):(t.setItem(e,o.serialize(n)),n)},o.get=function(e,n){var r=o.deserialize(t.getItem(e));return void 0===r?n:r},o.remove=function(e){t.removeItem(e)},o.clear=function(){t.clear()},o.getAll=function(){var e={};return o.forEach(function(t,n){e[t]=n}),e},o.forEach=function(e){for(var n=0;n<t.length;n++){var r=t.key(n);e(r,o.get(r))}};else if(a&&a.documentElement.addBehavior){var u,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),l.close(),u=l.w.frames[0].document,t=u.createElement("div")}catch(e){t=a.createElement("div"),u=a.body}var c=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(t),u.appendChild(t),t.addBehavior("#default#userData"),t.load(i);var r=e.apply(o,n);return u.removeChild(t),r}},f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(e){return e.replace(/^d/,"___$&").replace(f,"___")};o.set=c(function(e,t,n){return t=d(t),void 0===n?o.remove(t):(e.setAttribute(t,o.serialize(n)),e.save(i),n)}),o.get=c(function(e,t,n){t=d(t);var r=o.deserialize(e.getAttribute(t));return void 0===r?n:r}),o.remove=c(function(e,t){t=d(t),e.removeAttribute(t),e.save(i)}),o.clear=c(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(i);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(i)}),o.getAll=function(e){var t={};return o.forEach(function(e,n){t[e]=n}),t},o.forEach=c(function(e,t){for(var n,r=e.XMLDocument.documentElement.attributes,a=0;n=r[a];++a)t(n.name,o.deserialize(e.getAttribute(n.name)))})}try{var p="__storejs__";o.set(p,p),o.get(p)!=p&&(o.disabled=!0),o.remove(p)}catch(e){o.disabled=!0}return o.enabled=!o.disabled,o})}).call(t,function(){return this}())},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function i(){return d.enabled?d.get("userId")||d.set("userId",s()):s()}function s(){return Math.random().toString(36).substr(2,6)}var u=n(1),l=n(5),c=r(l),f=n(3),d=o(f),p={},m=a("conf");if(m)try{p=JSON.parse(m)}catch(e){console.log("Failed to parse conf",m,e)}(0,u.render)((0,u.h)(c.default,{chatId:a("id"),userId:i(),host:a("host"),conf:p}),document.getElementById("everlifeChat"))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(3),f=r(c),d=n(1),p=n(6),m=o(p),v=10,h=void 0,y=0,g=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.autoResponseState="pristine",n.autoResponseTimer=0,n.handleKeyPress=function(e){if(13==e.keyCode&&n.input.value){var t=n.input.value;n.sendMessageToBot(t),n.input.value="",n.writeToMessages({text:t,from:"visitor"}),n.gotMsg(),"pristine"===n.autoResponseState&&(setTimeout(function(){},500),n.autoResponseTimer=setTimeout(function(){n.autoResponseState="canceled"},6e4),n.autoResponseState="set")}},n.currentTimeOut=function(){return v<10&&(y++,y>30&&(v=10,y=0)),1e3*v},n.gotMsg=function(){v=1,n.pollAgain()},n.pollAgain=function(){console.log(h),console.log(v),h&&clearTimeout(h),h=setTimeout(function(){n.pollForMsgs()},n.currentTimeOut())},n.pollForMsgs=function(){n.getBotMsg(function(e,t){e?n.writeToMessages({from:"admin",text:e}):t&&n.writeToMessages(t),n.pollAgain()})},n.getBotMsg=function(e){var t=n.props.conf.everlifeAvatar+"bot";console.log(t);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200!==o.status)e(o);else if(o.response)try{var t=JSON.parse(o.response);console.log(JSON.stringify(t)),e(null,{text:t.msg,from:"admin"})}catch(t){console.log("error"),e()}else console.log("no response"),e()},o.open("GET",t),o.send()},n.sendMessageToBot=function(e){var t="",o=n.props.conf.everlifeAvatar+"msg",r=new XMLHttpRequest;console.log(o),r.open("POST",o),r.send(JSON.stringify({msg:e,addl:t}))},n.incomingMessage=function(e){n.writeToMessages(e),"admin"===e.from&&(document.getElementById("messageSound").play(),"pristine"===n.autoResponseState?n.autoResponseState="canceled":"set"===n.autoResponseState&&(n.autoResponseState="canceled",clearTimeout(n.autoResponseTimer)))},n.writeToMessages=function(e){if(e.time=new Date,n.setState({message:n.state.messages.push(e)}),f.enabled)try{f.transact(n.messagesKey,function(t){t.push(e)})}catch(e){console.log("failed to add new message to local storage",e),f.set(n.messagesKey,[])}},f.enabled?(n.messagesKey="messages."+e.chatId+"."+e.host,n.state.messages=f.get(n.messagesKey)||f.set(n.messagesKey,[])):n.state.messages=[],n.everlifeAvatar=e.everlifeAvatar,n.pollForMsgs(),n}return u(t,e),l(t,[{key:"componentDidMount",value:function(){this.pollForMsgs()}},{key:"render",value:function(e,t){var n=this;return a(e),(0,d.h)("div",null,(0,d.h)(m.default,{messages:t.messages,conf:this.props.conf}),(0,d.h)("input",{class:"textarea",type:"text",placeholder:this.props.conf.placeholderText,ref:function(e){n.input=e},id:"everlifeuserchatinput",onKeyPress:this.handleKeyPress}))}}]),t}(d.Component);t.default=g},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(14),c=o(l),f=n(1),d=864e5,p=function(e){function t(){var e,n,o,r;a(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.getHtml=function(e){return console.log(e),new String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/((?:^|\s))(\/[A-Z_a-z0-9]*)/g,"$1<a href=\"#\" onclick=\"let ui = document.getElementById('everlifeuserchatinput');if(ui.value) ui.value = '$2' + ui.value;else ui.value='$2';ui.focus();return false;\">$2</a>").replace(/[\r\n]/g,"<p class=br>&nbsp;</p>")},r=n,i(o,r)}return s(t,e),u(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,document.body.scrollHeight)}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,document.body.scrollHeight)}},{key:"render",value:function(e,t){var n=this;r(t);var o=new Date;return(0,f.h)("ol",{class:"chat"},e.messages.map(function(t){var r=t.name,a=t.text,i=t.from,s=t.time;return"visitor"===i&&(r="You"),(0,f.h)("li",{class:i},(0,f.h)("div",{class:"msg"},(0,f.h)("p",{dangerouslySetInnerHTML:{__html:n.getHtml(a)}}),e.conf.displayMessageTime?(0,f.h)("div",{class:"time"},o-new Date(s)<d?(0,c.default)(s,"HH:MM"):(0,c.default)(s,"m/d/yy HH:MM")):""))}))}}]),t}(f.Component);t.default=p},,,,,,,,function(e,t,n){var o;!function(r){"use strict";function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function i(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var o=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-o);var r=(t-n)/6048e5;return 1+Math.floor(r)}function s(e){var t=e.getDay();return 0===t&&(t=7),t}function u(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}var l=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(o,r,c,f){if(1!==arguments.length||"string"!==u(o)||/\d/.test(o)||(r=o,o=void 0),o=o||new Date,o instanceof Date||(o=new Date(o)),isNaN(o))throw TypeError("Invalid date");r=String(l.masks[r]||r||l.masks.default);var d=r.slice(0,4);"UTC:"!==d&&"GMT:"!==d||(r=r.slice(4),c=!0,"GMT:"===d&&(f=!0));var p=c?"getUTC":"get",m=o[p+"Date"](),v=o[p+"Day"](),h=o[p+"Month"](),y=o[p+"FullYear"](),g=o[p+"Hours"](),b=o[p+"Minutes"](),_=o[p+"Seconds"](),M=o[p+"Milliseconds"](),T=c?0:o.getTimezoneOffset(),w=i(o),x=s(o),S={d:m,dd:a(m),ddd:l.i18n.dayNames[v],dddd:l.i18n.dayNames[v+7],m:h+1,mm:a(h+1),mmm:l.i18n.monthNames[h],mmmm:l.i18n.monthNames[h+12],yy:String(y).slice(2),yyyy:y,h:g%12||12,hh:a(g%12||12),H:g,HH:a(g),M:b,MM:a(b),s:_,ss:a(_),l:a(M,3),L:a(Math.round(M/10)),t:g<12?"a":"p",tt:g<12?"am":"pm",T:g<12?"A":"P",TT:g<12?"AM":"PM",Z:f?"GMT":c?"UTC":(String(o).match(t)||[""]).pop().replace(n,""),o:(T>0?"-":"+")+a(100*Math.floor(Math.abs(T)/60)+Math.abs(T)%60,4),S:["th","st","nd","rd"][m%10>3?0:(m%100-m%10!=10)*m%10],W:w,N:x};return r.replace(e,function(e){return e in S?S[e]:e.slice(1,e.length-1)})}}();l.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},l.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},o=function(){return l}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))}(this)}]);
//# sourceMappingURL=chat.js.map